<!DOCTYPE html>
<html amp lang="ar">
<head>
<meta charset="utf-8">
    <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-136089997-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-136089997-1');
</script>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <!-- Google Tag Manager -->
        <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
        new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
        j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
        'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
        })(window,document,'script','dataLayer','GTM-WXJ6F8F');</script>
        <!-- End Google Tag Manager -->
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <meta name="author" content="Roque Leal" />
        <meta name="copyright" content="oilmap.xyz" />
        <meta property="fb:admins" content="1573187928" />
        <meta name="description" content="ğŸŒğŸ›¢ï¸ Ø§ÙƒØªØ´Ù Ø®Ø±ÙŠØ·Ø© Ø¹Ø§Ù… 2020 Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù†ÙØ· ÙˆØ§Ù„ØºØ§Ø² ØŒ Ù…Ø¹ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆÙ…Ø¹Ø§Ø±Ù Ø¹Ù† Ø¹Ø§Ù„Ù… Ø§Ù„Ø·Ø§Ù‚Ø© Ø§Ù„Ù†ÙØ·ÙŠØ© ÙÙŠ ØªØµÙˆØ±Ø§Øª Ø¬Ù…ÙŠÙ„Ø© Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø¹Ù† Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ù†Ø¨Ø¹ ÙˆØ§Ù„Ù…ØµØ¨ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ø§Ù„Ù†ÙØ· ÙˆØ§Ù„ØºØ§Ø².âœ”ï¸">
        <meta name="keywords" content="Ø§Ù„Ù†ÙØ· ØŒ Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ØŒ Ø§Ù„Ø¬ÙŠÙˆÙ„ÙˆØ¬ÙŠØ§ ØŒ Ø§Ù„ØºØ§Ø² ØŒ Ø§Ù„Ø·Ø§Ù‚Ø© ØŒ Ø§Ù„ÙˆØ¯Ø§Ø¦Ø¹ ØŒ Ø±Ø³Ù… Ø§Ù„Ø®Ø±Ø§Ø¦Ø· ØŒ Mapbox" />
        <meta property="og:image" content="http://oilmap.xyz/img/preview.jpg" link rel="image_src" type="image/jpg" href="http://oilmap.xyz/img/preview.jpg" />
        <meta property="og:image:width" content="400" />
        <meta property="og:image:height" content="300" />
        <meta property="og:title" content="Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù†ÙØ·" /> 
        <meta property="og:description" content="ğŸ›¢ï¸ØªÙ†Ø¬Ø­ ÙÙŠ Ø£ÙŠ Ø¨ÙŠØ¦Ø© Ø¨ÙØ¶Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ ÙˆØ¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¨Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø­ÙˆÙ„ Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ù†Ø¨Ø¹ ÙˆØ§Ù„Ù…ØµØ¨ ÙÙŠ Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù†ÙØ· ÙˆØ§Ù„ØºØ§Ø². ğŸ—ºï¸" />        
        <meta property="og:url" content="http://oilmap.xyz/fr.html" />     
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@oilmapxyz">
        <meta name="twitter:title" content="Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù†ÙØ·">
        <meta name="twitter:description" content="ğŸ›¢ï¸ ØªÙ†Ø¬Ø­ ÙÙŠ Ø£ÙŠ Ø¨ÙŠØ¦Ø© Ø¨ÙØ¶Ù„ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ ÙˆØ¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¨Ø§Ø±Ø§Øª ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø­Ù‚ÙŠÙ‚ÙŠ Ø­ÙˆÙ„ Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù…Ù†Ø¨Ø¹ ÙˆØ§Ù„Ù…ØµØ¨ ÙÙŠ Ù‚Ø·Ø§Ø¹ Ø§Ù„Ù†ÙØ· ÙˆØ§Ù„ØºØ§Ø².ğŸ—ºï¸">
        <meta name="twitter:creator" content="@oilmapxyz">
        <meta name="twitter:image" content="http://oilmap.xyz/img/preview.jpg">
        <title>Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù†ÙØ·</title>
    <link rel="icon" type="image/png" href="./img/oilmap.png" sizes="16x16">
    <link rel="canonical" href="http://www.oilmap.xyz"/>
    <link rel="alternative" hreflang="en" href="http://www.oilmap.xyz/">
    <link rel="alternative" hreflang="es" href="http://www.oilmap.xyz/es.html">
    <link rel="alternative" hreflang="fr" href="http://www.oilmap.xyz/fr.html">
    <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
    <script src="./js/mapbox-gl.js"></script>
    <link href="./js/mapbox-gl.css" rel="stylesheet">
    <link href="./js/assembly.min.css" rel="stylesheet">
    <script async="" defer="" src="./js/assembly.js"></script>
    <script src="./js/jquery.min.js"></script>
    <body class="prose">
    <header class="bg-darken75 color-black h-auto-mm h6 ">
    <div class="flex-parent flex-parent--space-between-main w-full">
    <div class="flex-child ml240 mt24 mb12 color-yellow"><h2>Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù†ÙØ·</h2></div>
    <div class="about-header flex-child mr24 mt30 mb50 txt-bold" style="color: #F0B823; text-shadow: 1px 1px 2px rgb(8, 8, 8), 0 0 1em rgb(253, 253, 255);">
    <svg class="icon inline mr6"><use xlink:href="#icon-question"></use></svg>About</div>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.3.0/mapbox-gl-geocoder.min.js'></script>
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v2.3.0/mapbox-gl-geocoder.css' type='text/css' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.49.0/mapbox-gl.css' rel='stylesheet' />
 </header>
  
<style>
   body {
            margin:0;
            padding:0;
        }
        header {
            position: relative;
            display: block;
            top: 0;
            left: 0;
            right: 0;
            text-transform: uppercase;
            z-index:1;
        }
        #legend {
            position: absolute;
            left: 24px;
            bottom: 120px;
            z-index: 1;
        }
        #map { position:absolute; top:0; bottom:0; width:100%; z-index:-1;}
        dl {
            margin-left: 0;
            margin-bottom: 8px;
            font-weight: bold;
        }
        dt {
            margin-left: 0;
            margin-bottom: 8px;
            font-weight: bold;
        }
        .sidebar > div:first-child button {
            border-radius:3px 3px 0 0;
        }
        .sidebar > div:last-child button {
            border-radius:0 0 3px 3px;
        }
        /* Dark attribution */
         .mapboxgl-ctrl.mapboxgl-ctrl-attrib a { color:#fff; }
        /* modal styling */
        .modal {
            position: fixed;
            z-index: 1;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgb(0,0,0);
            background-color: rgba(0,0,0,0.4);
        }
        .modal-content {
            text-align: center;
            background-color: #fefefe;
            margin: 10% auto;
            padding: 40px;
            border: 1px solid #888;
            width: 40%;
        }
        .close {
            color: #aaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        .leaflet-popup-content {
            margin: 7px;
        }
        
        a {
            text-decoration: none;
        }
        .close:hover,
        .close:focus {
            color: black;
            text-decoration: none;
            cursor: pointer;
        }
        @media (max-width: 600px) {
            h3 {
              
                font-size: 16px!important;
                padding: 12px!important;
                text-align: center;
                overflow: hidden;
                 width: 1px;
                height: 1px;
                
            }
            .modal-content{
                width:100%;
            }
            body { margin:0; padding:0; }
        }
            
         #menu {
        background: #fff;
        position: absolute;
        z-index: 1;
        top: 10px;
        left: 10px;
        width: 120px;
        font-family: 'Open Sans', sans-serif;
        border: 1px solid #fff;
        box-shadow: 0 1px 3px rgba(0,0,0,0.4);
        }
        #menu a {
            font-size: 13px;
            color: #404040;
            display: block;
            margin: 0;
            text-decoration: none;
            border-bottom: 1px solid #404040;
            text-align: center;
        }
        #menu a:last-child {
            border: none;
            background-color: #fad201 ;
            color: #404040;
            font-weight: bold;
            font-size: 14px;
        }
        #menu a:hover {
            background-color: #fad201;
            color:#404040;
            font-weight: bold;
            font-size: 14px;
        }
        #menu a.active {
            background-color: #3887be;
            color: #ffffff;
            font-weight: bold;
            font-size: 14px;
        }
        #menu a.active:hover {
            background: #3074a4;
        }
</style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WXJ6F8F"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
<nav id="menu"></nav>
<div id='map'></div>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoicm9xdWVsZWFsIiwiYSI6ImNqaHVzZTA4ODBkZjczdmt0cTNrbGo1ZWEifQ.m7xOPPWAFsY-A4cAr5nDAw';
var map = new mapboxgl.Map({
    container: 'map',
        style: 'mapbox://styles/roqueleal/cjsp9p3ho27sb1fntchkypzpw',
        center: [33.3984,29.1521],
        zoom: 4
    });
mapboxgl.setRTLTextPlugin('https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-rtl-text/v0.1.0/mapbox-gl-rtl-text.js');
map.addControl(new MapboxLanguage());
</script>
</script>
 
<!-- modal-->
<div id="aboutModal" class="modal" style="display: none;">

    <!-- modal content -->
    <div class="modal-content">
        <span class="close">Ã—</span>
        <img class="logo" src="./img/oilmap.png" style="width:50%;max-width:70px"><p></p>
        <h1><a href="https://www.roqueleal.me/indexfr.html" target="_blank">Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù†ÙØ·</a></h1>
        ğŸŒğŸ›¢ï¸ ØªØ¹ØªØ¨Ø±Ø®Ø±ÙŠØ·Ø© Ø§Ù„Ù†ÙØ· Ù…ÙØªÙˆØ­Ø© Ø¬Ø¯ÙŠØ¯Ø© Ù„Ù…Ø±Ø§Ù‚Ø¨Ø© Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ù†ÙØ· ÙˆØ§Ù„ØºØ§Ø² Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù… ÙˆÙ…ÙˆØ§ÙƒØ¨Ø© Ø§Ù„Ø£Ø®Ø¨Ø§Ø± ÙˆØ£Ø³Ø¹Ø§Ø± Ø§Ù„Ù†ÙØ·. ÙŠÙ…Ù†Ø­Ùƒ Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø£Ø¨Ø­Ø§Ø« ÙÙŠ Ø³Ù„Ø³Ù„Ø© ØªØ±Ø§Ø®ÙŠØµ Ø§Ù„Ù†ÙØ· ÙˆØ§Ù„ØºØ§Ø² ÙˆØ§Ù„Ø´Ø±ÙƒØ§Øª ÙˆØ­Ù‚ÙˆÙ„ Ø§Ù„Ù†ÙØ· ÙˆØ¢Ø¨Ø§Ø± Ø§Ù„Ù†ÙØ· ÙˆÙ…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØµÙ†Ø§Ø¹Ø© Ø§Ù„Ø­ÙŠØ©. </a><br>
        <h2><a href="https://oilmap.xyz/prices/oilprices.html" target="_blank">Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù†ÙØ·</a></h2>
        ÙŠÙ…ÙƒÙ†Ùƒ Ø£ÙŠØ¶Ù‹Ø§ Ø¹Ø±Ø¶ Ø£Ø³Ø¹Ø§Ø± Ù…Ø¹Ø¸Ù… Ø¹Ù…Ù„ÙŠØ§Øª ÙØµÙ„ Ø§Ù„Ù†ÙØ· Ø§Ù„Ø®Ø§Ù… Ø§Ù„ØªÙŠ ÙŠØªÙ… Ø¨ÙŠØ¹Ù‡Ø§ ÙÙŠ Ø¬Ù…ÙŠØ¹ Ø£Ù†Ø­Ø§Ø¡ Ø§Ù„Ø¹Ø§Ù„Ù… ÙÙŠ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„ÙØ¹Ù„ÙŠ ÙˆØ§Ù„Ù…ØªØ§Ø­Ø© ÙÙŠÙ‡Ø§ <a href="https://oilmap.xyz/prices/oilprices.html" target="_blank">Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ù†ÙØ·</a>.<p></p>
        Ø£Ù†Ø§ Ø£ÙƒÙˆÙ† <a href="https://www.roqueleal.me/indexfr.html" target="_blank" >Roque Leal,
        </a> Ø£Ø¯Ø¹ÙˆÙƒ Ù„Ù„ØªØ¹Ø§ÙˆÙ† ÙˆÙ…Ø´Ø§Ø±ÙƒØ© Ø£ÙÙƒØ§Ø±Ùƒ ØŒ Ù„Ù…Ø²ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„ÙƒØªØ§Ø¨Ø© Ø¥Ù„ÙŠ Ø¹Ù„Ù‰<a href="mailto:roqueleal@gmail.com"> roqueleal@gmail.com
        </a>.
        Ø´ÙƒØ± Ø®Ø§Øµ Ù„ <a href="https://blog.mapbox.com/bringing-data-to-life-with-powerbi-ccaf214eaf16" target="_blank">Mapbox</a> pour partager son inspiration et sa passion pour les cartes.<p>
        </p>ÙŠØªÙ… ØªÙˆØ²ÙŠØ¹ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø¨Ù…ÙˆØ¬Ø¨ ØªØ±Ø®ÙŠØµ GPL Open Source. ÙŠÙ…ÙƒÙ†Ùƒ Ø²ÙŠØ§Ø±Ø© Ù…Ø³ØªÙˆØ¯Ø¹ Ù‡Ø°Ø§ Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ ØŒ Ø§Ù„Ù…ØªØ§Ø­ ÙÙŠ <a href="https://github.com/roqueleal/oilmap" target="_blank">Github</a>.<p></p>
        <a href="https://github.com/roqueleal/oilmap" target="_blank"><img src="./img/git.png" style="width:300%;max-width:200px" alt="Link to this page" ></a>
        <p> Open Data Certificateâ„¢ Ù…ØªØ§Ø­ Ø¹Ù„Ù‰ <a href="https://certificates.theodi.org/en/datasets/220195/certificate" target="_blank">ODI</a>.<p></p>
        <a href="https://certificates.theodi.org/en/datasets/220195/certificate" target="_blank"><img src="./img/odi.png" style="width:150%;max-width:150px" alt="Link to this page"></a> 
    </div>
</div>

 <!-- menu -->

    <script>
        // inicio NEWS
        var url = 'https://api.gdeltproject.org/api/v2/geo/geo?zoomwheel=0&query=petroleum%20(sourcelang:zho%20OR%20sourcelang:eng%20OR%20sourcelang:rus%20OR%20sourcelang:spa)%20&mode=pointdata&format=geojson';
        map.on('load', function () {
        window.setInterval(function() {
        map.getSource('NEWS').setData(url);
        }, 2000);
 
        map.addSource('NEWS', { type: 'geojson', data: url });
        map.addLayer({
            "id": "NEWS",
            "type": "symbol",
            "source": "NEWS",
                "layout": {
                "icon-image": "oil",
                "icon-size":[
                "interpolate",
                ["linear"],
                ["zoom"],
                0,
                0,
                9.256,
                0.1
                    ]
                    }
                    });
                    });
        // FIN NEWS
        // inicio CLUSTERNEWS
        
        map.on('load', function() {
// Add a new source from our GeoJSON data and set the
// 'cluster' option to true. GL-JS will add the point_count property to your source data.
        map.addSource("CLUSTER-NEWS", {
        type: "geojson",
// Point to GeoJSON data. This example visualizes all M1.0+ NEWS
// from 12/22/15 to 1/21/16 as logged by USGS' Earthquake hazards program.
        data: "https://api.gdeltproject.org/api/v2/geo/geo?zoomwheel=0&query=petroleum%20(sourcelang:zho%20OR%20sourcelang:eng%20OR%20sourcelang:rus%20OR%20sourcelang:spa)%20&mode=pointdata&format=geojson",
        cluster: true,
        clusterMaxZoom: 14, // Max zoom to cluster points on
        clusterRadius: 50 // Radius of each cluster when clustering points (defaults to 50)
        });
 
        map.addLayer({
        id: "CLUSTER-NEWS",
        type: "circle",
        source: "CLUSTER-NEWS",
        filter: ["has", "point_count"],
    paint: {

"circle-color": [
"step",
["get", "point_count"],
"#1dcaff",
5,
"#fff000",
10,
"#ff521d"
],
"circle-radius": [
"step",
["get", "point_count"],
20,
10,
30,
750,
40
]
}
});
 
map.addLayer({
id: "cluster-count",
type: "symbol",
source: "CLUSTER-NEWS",
filter: ["has", "point_count"],
layout: {
"text-field": "{point_count_abbreviated}",
"text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Bold"],
"text-size": 12
}
});
 
map.addLayer({
id: "unclustered-point",
type: "circle",
source: "CLUSTER-NEWS",
filter: ["!", ["has", "point_count"]],
paint: {
"circle-color": "#11b4da",
"circle-radius": 0.1,
"circle-stroke-width": 1,
"circle-stroke-color": "#fff"
}
});
 
// inspect a cluster on click
map.on('click', 'clusters', function (e) {
var features = map.queryRenderedFeatures(e.point, { layers: ['clusters'] });
var clusterId = features[0].properties.cluster_id;
map.getSource('CLUSTER-NEWS').getClusterExpansionZoom(clusterId, function (err, zoom) {
if (err)
return;
 
map.easeTo({
center: features[0].geometry.coordinates,
zoom: zoom
});
});
});
 
map.on('mouseenter', 'clusters', function () {
map.getCanvas().style.cursor = 'pointer';
});
map.on('mouseleave', 'clusters', function () {
map.getCanvas().style.cursor = '';
});
});
        // fin CLUSTERNEWS
        // INICIO MENU
                 
        var toggleableLayerIds = ['PRODUCTION', 'BID-ROUNDS','EXPLORATION','REFINERIES','OIL-PIPELINE','GAS-PIPELINE', 'NEWS', 'CLUSTER-NEWS'];
        for (var i = 0; i < toggleableLayerIds.length; i++) {
            var id = toggleableLayerIds[i];
            var link = document.createElement('a');
            link.href = '#';
            link.className = 'active';
            link.textContent = id;
            link.onclick = function (e) {
                var clickedLayer = this.textContent;
                e.preventDefault();
                e.stopPropagation();
                var visibility = map.getLayoutProperty(clickedLayer, 'visibility');
                if (visibility === 'visible') {
                    map.setLayoutProperty(clickedLayer, 'visibility', 'none');
                    this.className = '';
                } else {
                    this.className = 'active';
                    map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
                }
            };
            var layers = document.getElementById('menu');
            layers.appendChild(link);
        }
    // fin MENU
        // INICIO MENU
                 
        var toggleableLayerIds = ['DEPOSITS'];
        for (var i = 0; i < toggleableLayerIds.length; i++) {
            var id = toggleableLayerIds[i];
           
            var link = document.createElement('a');
            link.href = '#';
            link.className = 'focus';
            link.textContent = id;
           
            link.onclick = function (e) {
                var clickedLayer = this.textContent;
                e.preventDefault();
                e.stopPropagation();
              
                var visibility = map.getLayoutProperty(clickedLayer, 'visibility');
               
                if (visibility === 'visible') {
                    map.setLayoutProperty(clickedLayer, 'visibility', 'none');
                    this.className = '';
                } else {
                    this.className = 'active';
                    map.setLayoutProperty(clickedLayer, 'visibility', 'visible');
                }
            };
            var layers = document.getElementById('menu');
            layers.appendChild(link);
        }
    // fin MENU
    // to grab checkbox value
    $('input.js-checkboxes').prop('checked', true);
    var nav = new mapboxgl.NavigationControl();
    var nav2 = new mapboxgl.FullscreenControl();
    var nav3 = new mapboxgl.GeolocateControl({ positionOptions: { enableHighAccuracy: true }, trackUserLocation: true });
    var nav4 = new MapboxGeocoder ({ accessToken: mapboxgl.accessToken });
    map.addControl(nav4, 'bottom-right');
    map.addControl(nav, 'bottom-right');
    map.addControl(nav2, 'bottom-right');
    map.addControl(nav3, 'bottom-right');
    function mapReset() {
        if (window.innerWidth < 800) {
            map.setZoom(4.17);
        } else {
            map.setZoom(4.17);
        }
    }
  // interacion inicio hover
  var popup = new mapboxgl.Popup({
    closeButton: false,
    closeOnClick: false
    });
    map.on('mouseenter', 'DEPOSITS', function(e) {
// Change the cursor style as a UI indicator.
    map.getCanvas().style.cursor = 'pointer';
 
    var coordinates = e.features[0].geometry.coordinates.slice();
    var description = e.features[0].properties.description;
 
// Ensure that if the map is zoomed out such that multiple
// copies of the feature are visible, the popup appears
// over the copy being pointed to.
    while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
    coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
    }
 
// Populate the popup and set its coordinates
// based on the feature found.
    popup.setLngLat(e.lngLat)
                .setHTML('<dt>' + e.features[0].properties.NAME + '</dt>'+'<dt>'+ e.features[0].properties.OTHERINFO + '</dt>' + e.features[0].properties.RESINFO + '</dt>' )
                .addTo(map);
 
    map.on('mouseleave', 'DEPOSITS', function() {
    map.getCanvas().style.cursor = '';
    popup.remove();
    });
    });
  
  // interacion fin hover
    // interacion inicio popup
    map.on('mousemove', function(event) {
        if (map.loaded()) {
            var features = map.queryRenderedFeatures(event.point, {
                layers: ['REFINERIES', 'EXPLORATION', 'BID-ROUNDS','PRODUCTION', 'NEWS']
            });
            map.getCanvas().style.cursor = features.length ? 'pointer' : '';
        }
    });
    window.addEventListener('resize', () => {
        mapReset();
    })
     // interacion  refinerias
    map.on('click', function(e) {
        var features = map.queryRenderedFeatures(e.point, {
            layers: ['REFINERIES'] // replace this with the name of the layer
        });
        if (!features.length) {
            return;
        }
        var feature = features[0];
        var popup = new mapboxgl.Popup ()
            .setLngLat(feature.geometry.coordinates)
            .setHTML('<dd>' + feature.properties.Name + feature.properties.Descriptio + '</dd>')
            .setLngLat(feature.geometry.coordinates)
            .addTo(map);
    });
    window.addEventListener('resize', () => {
        mapReset();
    })
    // interacion fin refinerias
    
    // interacion inicio bloquesar
    map.on('click', 'EXPLORATION-AREAS', function (e) {
        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML('<dt>' + e.features[0].properties.Name + '</dt>'+'<dt>'+ e.features[0].properties.Company + '</dt>' +'<dt>'+ e.features[0].properties.Type + '</dt>'+'<dt>')
            .addTo(map);
    });
    // interacion fin bloquesar
      // interacion inicio bloquesar
      map.on('click', 'PRODUCTION', function (e) {
        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML('<dt>' + e.features[0].properties.Name + '</dt>'+'<dt>'+ e.features[0].properties.Company + '</dt>' +'<dt>'+ e.features[0].properties.Type + '</dt>'+'<dt>')
            .addTo(map);
    });
    // interacion fin bloquesar
     // interacion inicio NEWS2
     map.on('click', 'NEWS', function (e) {
        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML('<dd>' + e.features[0].properties.name + 
             '<img src=" '+ e.features[0].properties.shareimage + '" />' 
            + e.features[0].properties.html + '</dd>')
            .addTo(map);
    });
    // interacion fin NEWS
    // interacion inicio BID-ROUNDS
      map.on('click', 'BID-ROUNDS', function (e) {
        new mapboxgl.Popup()
            .setLngLat(e.lngLat)
            .setHTML('<dt>' + e.features[0].properties.title + '</dt>'+'<dt>'+ e.features[0].properties.description + '</dt>' )
            .addTo(map);
    });
    // interacion fin bloquesar
    // modal interaction
    var modal = document.getElementById('aboutModal');
    modal.style.display = "block";
    var span = document.getElementsByClassName("close")[0];
    span.onclick = function() {
        modal.style.display = "none";
    }
    var aboutHeader = document.getElementsByClassName("about-header")[0];
    aboutHeader.onclick = function() {
        document.body.style.cursor = "pointer";
        modal.style.display = "block";
    }
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.style.display = "none";      }
    }
</script>

</body></html>
 <!--Licensing information: https://roqueleal.me Purchase the pro version  -->
