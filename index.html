<!DOCTYPE html>
<html lang="en-US">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <link rel="icon" type="image/png" href="./img/oilmap.png" sizes="16x16">
    <meta name="author" content="Roque Leal" />
    <meta name="copyright" content="https://oilmap.xyz" />
    <meta name="description" content="üõ¢Ô∏è Discover World Oil Map 2026, information & knowledge about Upstream and Downstream activities for Oil and Gas.">
    <meta property="og:type" content="website" />
    <meta property="og:image" content="https://oilmap.xyz/img/preview.jpg" />
    <meta property="og:title" content="World Oil Map 2026" />
    <meta property="og:url" content="https://oilmap.xyz" />
    <meta name="twitter:card" content="summary">
    <meta name="twitter:site" content="@roqueleal08">
    <title>ü•á World Oil Map 2026</title>

    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4035003913367801" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.min.js"></script>
    <link rel="stylesheet" href="https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v4.5.1/mapbox-gl-geocoder.css" type="text/css" />
    <link <link href='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.css' rel='stylesheet' />
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.15.0/mapbox-gl.js'></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-language/v0.10.1/mapbox-gl-language.js'></script>
    <script src='https://api.mapbox.com/mapbox.js/plugins/turf/v2.0.2/turf.min.js'></script>

    <style>
         :root {
            --primary-gold: #f0b823;
            --glass-bg: rgba(18, 18, 18, 0.7);
            --glass-border: rgba(255, 255, 255, 0.12);
            --text-main: #ffffff;
        }
        
        body {
            margin: 0;
            padding: 0;
            font-family: 'Inter', sans-serif;
            background: #000;
            color: var(--text-main);
            overflow: hidden;
        }
        
        #map {
            position: absolute;
            top: 0;
            bottom: 0;
            width: 100%;
        }
        /* --- AD ZONE RESPONSIVE --- */
        
        .ad-container {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 5;
            width: 95%;
            /* Ocupa casi todo el ancho en m√≥viles */
            max-width: 728px;
            /* No supera el est√°ndar de banner en desktop */
            min-height: 50px;
            /* Altura m√≠nima para evitar saltos de dise√±o */
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 0, 0, 0.1);
            /* Opcional: fondo sutil mientras carga */
        }
        /* Ajuste para pantallas muy peque√±as */
        
        @media (max-width: 480px) {
            .ad-container {
                bottom: 60px;
                /* Sube un poco para no tapar los controles de Mapbox */
                max-width: 320px;
                /* Tama√±o est√°ndar de banner m√≥vil */
            }
        }
        
        .glass-ui {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            box-shadow: 0 4px 24px rgba(0, 0, 0, 0.4);
        }
        
        header {
            position: absolute;
            top: 15px;
            left: 15px;
            right: 15px;
            height: 55px;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 20px;
        }
        
        .brand {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .brand h1 {
            font-size: 1rem;
            margin: 0;
            color: var(--primary-gold);
            letter-spacing: 1px;
        }
        
        .brand img {
            height: 28px;
        }
        
        #menu {
            position: absolute;
            top: 85px;
            left: 15px;
            width: 180px;
            z-index: 10;
            padding: 10px;
            display: flex;
            flex-direction: column;
            gap: 4px;
        }
        
        #menu a {
            color: rgba(255, 255, 255, 0.6);
            text-decoration: none;
            font-size: 0.75rem;
            padding: 8px 12px;
            border-radius: 6px;
            transition: 0.2s;
            text-transform: uppercase;
        }
        
        #menu a.active {
            background: var(--primary-gold);
            color: #000;
            font-weight: 600;
        }
        /* Modal */
        
        .modal {
            position: fixed;
            z-index: 100;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: none;
        }
        
        .modal-content {
            margin: 15% auto;
            padding: 30px;
            width: 80%;
            max-width: 500px;
            text-align: center;
        }
        /* --- POPUPS GLASSMORPHISM --- */
        
        .close {
            color: #000000;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        /* --- AD ZONE --- */
        /* Ocultar elementos de Mapbox innecesarios para minimalismo */
        
        .mapboxgl-ctrl-logo,
        .mapboxgl-ctrl-attrib {
            opacity: 0.3;
            transition: 0.3s;
        }
        
        .mapboxgl-ctrl-logo:hover,
        .mapboxgl-ctrl-attrib:hover {
            opacity: 1;
        }
    </style>
</head>

<body>
    <div class="ad-container">
        <ins class="adsbygoogle" style="display:block" data-ad-client="ca-pub-4035003913367801" data-ad-slot="TU_NUEVO_ID_ADAPTABLE" data-ad-format="horizontal" data-full-width-responsive="true"></ins>
        <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
        </script>
    </div>
    <header class="glass-ui">
        <div class="brand">
            <img src="./img/oilmap.png" alt="Icon">
            <h1>WORLD OIL MAP <span style="font-weight: 300; opacity: 0.6;">2026</span></h1>
        </div>
        <div class="about-header" style="font-size: 0.7rem; color: var(--primary-gold); border: 1px solid var(--primary-gold); padding: 4px 8px; border-radius: 4px; cursor: pointer;">
            LIVE DATA
        </div>
    </header>

    <nav id="menu" class="glass-ui"></nav>

    <div id='map'></div>


    <div id="aboutModal" class="modal">
        <div class="modal-content glass-ui">
            <span class="close" style="float:right; cursor:pointer; color:white; font-size: 24px;">&times;</span>
            <img src="./img/oilmap.png" style="width:70px; margin-bottom: 15px;">
            <h1 style="color: var(--primary-gold);">World Oil Map 2026</h1>
            <p>Location-Intelligence application for Oil and Gas sector.</p>
            <p>Visit <a href="https://github.com/roqueleal/oilmap" style="color:var(--primary-gold)">Github</a>.</p>
        </div>
    </div>

    <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoicm9xdWVsZWFsIiwiYSI6ImNqaHVzZTA4ODBkZjczdmt0cTNrbGo1ZWEifQ.m7xOPPWAFsY-A4cAr5nDAw';

        const map = new mapboxgl.Map({
            container: 'map',
            style: 'mapbox://styles/roqueleal/ckg8c3kqf3udn19p3zhhhia61',
            center: [18.36, 21.04],
            zoom: 3,
            antialias: true
        });
        // inicio NEWS
        var url = 'https://api.gdeltproject.org/api/v2/geo/geo?zoomwheel=0&query=petroleum%20(sourcelang:zho%20OR%20sourcelang:eng%20OR%20sourcelang:rus%20OR%20sourcelang:spa)%20&mode=pointdata&format=geojson';
        map.on('load', function() {
            window.setInterval(function() {
                map.getSource('NEWS').setData(url);
            }, 2000);

            map.addSource('NEWS', {
                type: 'geojson',
                data: url
            });
            map.addLayer({
                "id": "NEWS",
                "type": "symbol",
                "source": "NEWS",
                "layout": {
                    "icon-image": "oil",
                    "icon-size": [
                        "interpolate", ["linear"],
                        ["zoom"],
                        0,
                        0,
                        9.256,
                        0.1
                    ]
                }
            });
        });
        // FIN NEWS
        // inicio CLUSTERNEWS

        map.on('load', function() {
            // Add a new source from our GeoJSON data and set the
            // 'cluster' option to true. GL-JS will add the point_count property to your source data.
            map.addSource("CLUSTER-NEWS", {
                type: "geojson",
                // Point to GeoJSON data. This example visualizes all M1.0+ NEWS
                // from 12/22/15 to 1/21/16 as logged by USGS' Earthquake hazards program.
                data: "https://api.gdeltproject.org/api/v2/geo/geo?zoomwheel=0&query=petroleum%20(sourcelang:zho%20OR%20sourcelang:eng%20OR%20sourcelang:rus%20OR%20sourcelang:spa)%20&mode=pointdata&format=geojson",
                cluster: true,
                clusterMaxZoom: 14, // Max zoom to cluster points on
                clusterRadius: 50 // Radius of each cluster when clustering points (defaults to 50)
            });

            map.addLayer({
                id: "CLUSTER-NEWS",
                type: "circle",
                source: "CLUSTER-NEWS",
                filter: ["has", "point_count"],
                paint: {

                    "circle-color": [
                        "step", ["get", "point_count"],
                        "#1dcaff",
                        5,
                        "#fff000",
                        10,
                        "#ff521d"
                    ],
                    "circle-radius": [
                        "step", ["get", "point_count"],
                        20,
                        10,
                        30,
                        750,
                        40
                    ]
                }
            });

            map.addLayer({
                id: "cluster-count",
                type: "symbol",
                source: "CLUSTER-NEWS",
                filter: ["has", "point_count"],
                layout: {
                    "text-field": "{point_count_abbreviated}",
                    "text-font": ["DIN Offc Pro Medium", "Arial Unicode MS Bold"],
                    "text-size": 12
                }
            });

            map.addLayer({
                id: "unclustered-point",
                type: "circle",
                source: "CLUSTER-NEWS",
                filter: ["!", ["has", "point_count"]],
                paint: {
                    "circle-color": "#11b4da",
                    "circle-radius": 0.1,
                    "circle-stroke-width": 1,
                    "circle-stroke-color": "#fff"
                }
            });

            // inspect a cluster on click
            map.on('click', 'clusters', function(e) {
                var features = map.queryRenderedFeatures(e.point, {
                    layers: ['clusters']
                });
                var clusterId = features[0].properties.cluster_id;
                map.getSource('CLUSTER-NEWS').getClusterExpansionZoom(clusterId, function(err, zoom) {
                    if (err)
                        return;

                    map.easeTo({
                        center: features[0].geometry.coordinates,
                        zoom: zoom
                    });
                });
            });

            map.on('mouseenter', 'clusters', function() {
                map.getCanvas().style.cursor = 'pointer';
            });
            map.on('mouseleave', 'clusters', function() {
                map.getCanvas().style.cursor = '';
            });
        });
        // fin CLUSTERNEWS
        // Configuraci√≥n de capas
        const toggleableLayerIds = ['PRODUCTION', 'BID-ROUNDS', 'EXPLORATION', 'REFINERIES', 'OIL-PIPELINE', 'GAS-PIPELINE', 'NEWS', 'CLUSTER-NEWS'];

        map.on('load', () => {
            // Generar Men√∫ Lateral
            const menuNav = document.getElementById('menu');
            toggleableLayerIds.forEach(id => {
                const link = document.createElement('a');
                link.href = '#';
                link.className = 'active';
                link.textContent = id;
                link.onclick = function(e) {
                    e.preventDefault();
                    const visibility = map.getLayoutProperty(id, 'visibility') || 'visible';
                    if (visibility === 'visible') {
                        map.setLayoutProperty(id, 'visibility', 'none');
                        this.className = '';
                    } else {
                        map.setLayoutProperty(id, 'visibility', 'visible');
                        this.className = 'active';
                    }
                };
                menuNav.appendChild(link);
            });

            // Popups
            map.on('click', (e) => {
                const features = map.queryRenderedFeatures(e.point, {
                    layers: toggleableLayerIds
                });
                if (!features.length) return;

                const f = features[0];
                const title = f.properties.Name || f.properties.NAME || "Info";
                const info = f.properties.Descriptio || f.properties.Company || "Oil & Gas Data";

                new mapboxgl.Popup({
                        offset: 10
                    })
                    .setLngLat(e.lngLat)
                    .setHTML(`<div style="color:#000"><strong>${title}</strong><br>${info}</div>`)
                    .addTo(map);
            });
        });
        // interacion inicio hover
        var popup = new mapboxgl.Popup({
            closeButton: false,
            closeOnClick: false
        });
        map.on('mouseenter', 'DEPOSITS', function(e) {
            // Change the cursor style as a UI indicator.
            map.getCanvas().style.cursor = 'pointer';

            var coordinates = e.features[0].geometry.coordinates.slice();
            var description = e.features[0].properties.description;

            // Ensure that if the map is zoomed out such that multiple
            // copies of the feature are visible, the popup appears
            // over the copy being pointed to.
            while (Math.abs(e.lngLat.lng - coordinates[0]) > 180) {
                coordinates[0] += e.lngLat.lng > coordinates[0] ? 360 : -360;
            }

            // Populate the popup and set its coordinates
            // based on the feature found.
            popup.setLngLat(e.lngLat)
                .setHTML('<dt>' + e.features[0].properties.NAME + '</dt>' + '<dt>' + e.features[0].properties.OTHERINFO + '</dt>' + e.features[0].properties.RESINFO + '</dt>')
                .addTo(map);

            map.on('mouseleave', 'DEPOSITS', function() {
                map.getCanvas().style.cursor = '';
                popup.remove();
            });
        });

        // interacion fin hover
        // interacion inicio popup
        map.on('mousemove', function(event) {
            if (map.loaded()) {
                var features = map.queryRenderedFeatures(event.point, {
                    layers: ['REFINERIES', 'EXPLORATION', 'BID-ROUNDS', 'PRODUCTION', 'NEWS']
                });
                map.getCanvas().style.cursor = features.length ? 'pointer' : '';
            }
        });
        window.addEventListener('resize', () => {
                mapReset();
            })
            // interacion  refinerias
        map.on('click', function(e) {
            var features = map.queryRenderedFeatures(e.point, {
                layers: ['REFjjINERIES'] // replace this with the name of the layer
            });
            if (!features.length) {
                return;
            }
            var feature = features[0];
            var popup = new mapboxgl.Popup()
                .setLngLat(feature.geometry.coordinates)
                .setHTML('<dd>' + feature.properties.Name + feature.properties.Descriptio + '</dd>')
                .setLngLat(feature.geometry.coordinates)
                .addTo(map);
        });
        window.addEventListener('resize', () => {
                mapReset();
            })
            // interacion fin refinerias


        // interacion inicio NEWS2
        map.on('click', 'NEWS', function(e) {
            new mapboxgl.Popup()
                .setLngLat(e.lngLat)
                .setHTML('<dd>' + e.features[0].properties.name +
                    '<img src=" ' + e.features[0].properties.shareimage + '" />' +
                    e.features[0].properties.html + '</dd>')
                .addTo(map);
        });
        // interacion fin NEWS
        // interacion inicio BID-ROUNDS
        map.on('click', 'BID-ROUNDS', function(e) {
            new mapboxgl.Popup()
                .setLngLat(e.lngLat)
                .setHTML('<dt>' + e.features[0].properties.title + '</dt>' + '<dt>' + e.features[0].properties.description + '</dt>')
                .addTo(map);
        });
        // interacion fin bloquesar

        // L√≥gica del Modal
        const modal = document.getElementById('aboutModal');
        document.querySelector('.about-header').onclick = () => modal.style.display = "block";
        document.querySelector('.close').onclick = () => modal.style.display = "none";
        window.onclick = (event) => {
            if (event.target == modal) modal.style.display = "none";
        };

        <!-- start section cookies -->
    </script>
    <script src="./js/cookieconsent.min.js" data-cfasync="false"></script>
    <!-- start section cookies -->
    </script>
    <script src="./js/cookieconsent.min.js" data-cfasync="false"></script>
    <script>
        window.cookieconsent.initialise({
            "palette": {
                "popup": {
                    "background": "#007afc"
                },
                "button": {
                    "background": "#fff",
                    "text": "#007afc"
                }
            },
            "theme": "edgeless",
            "position": "bottom-left",
            "content": {
                "message": "This website uses cookies to provide visitors with the best experience. Please see our <a target='_blank' style='color:white;' href='https://www.oilmap.xyz/legal/privacy-policy.html'>Privacy Policy</a> and <a target='_blank' style='color:white;' href='https://www.oilmap.xyz/legal/privacy-cookies.html'>Cookie Policy</a> for more information.",
                "link": ""
            }
        });

        window.cookieconsent.hasTransition = false;
        window.expiryDays = 365;

        // to grab checkbox value
        $('input.js-checkboxes').prop('checked', true);
        var nav = new mapboxgl.NavigationControl();
        var nav2 = new mapboxgl.FullscreenControl();
        var nav3 = new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            trackUserLocation: true
        });
        map.addControl(nav, 'bottom-right');
        map.addControl(nav2, 'bottom-right');
        map.addControl(nav3, 'bottom-right');

        function mapReset() {
            if (window.innerWidth < 800) {
                map.setZoom(4.17);
            } else {
                map.setZoom(4.17);
            }
        }

        var distanceContainer = document.getElementById("distance");
        var distanceGuide = document.getElementById("distanceGuide");
        //ruler
        // Array to store id's of measured lines  -- kinda irrelevant as we have a counter
        var measureLayers = [];
        var counter = 0;
        var enabled = false;

        // GeoJSON object to hold our measurement features
        var geojson = {
            type: "FeatureCollection",
            features: []
        };

        // Used to draw a line between points
        var linestring = {
            type: "Feature",
            geometry: {
                type: "LineString",
                coordinates: []
            }
        };
        //geocder
        var customData

        function forwardGeocoder(query) {
            var matchingFeatures = [];
            for (var i = 0; i < customData.features.length; i++) {
                var feature = customData.features[i];
                // handle queries with different capitalization than the source data by calling toLowerCase()
                if (
                    feature.properties.title
                    .toLowerCase()
                    .search(query.toLowerCase()) !== -1
                ) {
                    // add a tree emoji as a prefix for custom data results
                    // using carmen geojson format: https://github.com/mapbox/carmen/blob/master/carmen-geojson.md
                    feature['place_name'] = 'üõ¢Ô∏è ' + feature.properties.title;
                    feature['center'] = feature.geometry.coordinates;
                    feature['place_type'] = ['park'];
                    matchingFeatures.push(feature);
                }
            }
            return matchingFeatures;
        }

        map.addControl(
            new MapboxGeocoder({
                accessToken: mapboxgl.accessToken,
                localGeocoder: forwardGeocoder,
                zoom: 9,
                placeholder: 'üõ¢Ô∏è Enter Oil Block Name',
                mapboxgl: mapboxgl
            }), 'bottom-right'
        );

        // to grab checkbox value
        $('input.js-checkboxes').prop('checked', true);
        var nav = new mapboxgl.NavigationControl();
        var nav2 = new mapboxgl.FullscreenControl();
        var nav3 = new mapboxgl.GeolocateControl({
            positionOptions: {
                enableHighAccuracy: true
            },
            trackUserLocation: true
        });
        map.addControl(nav, 'bottom-right');
        map.addControl(nav2, 'bottom-right');
        map.addControl(nav3, 'bottom-right');

        function mapReset() {
            if (window.innerWidth < 800) {
                map.setZoom(4.17);
            } else {
                map.setZoom(4.17);
            }
        }

        var distanceContainer = document.getElementById("distance");
        var distanceGuide = document.getElementById("distanceGuide");
    </script>
    <!--End Cookies-->

    <!--Geocoder  -->
    <script src='https://api.mapbox.com/mapbox.js/plugins/turf/v2.0.2/turf.min.js'></script>
    <script src="data/geocoder.js"></script>
    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@id": "https://www.oilmap.xyz",
            "@type": "WebSite",
            "url": "https://www.oilmap.xyz",
            "name": "OilMap",
            "potentialAction": {
                "@type": "SearchAction",
                "target": "https://cse.google.com/cse?cx=0d16527ec2825c2c0",
                "query-input": "required name=search_term_string"
            }
        }
    </script>


    <script type="application/ld+json">
        {
            "@context": "http://schema.org",
            "@id": "https://www.oilmap.xyz",
            "@type": "WebPage",
            "url": "https://www.oilmap.xyz/",
            "name": "OilMap"
        }
    </script>

</body>

</html>
